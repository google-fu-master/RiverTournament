---
layout: default
title: Home
---

<h2 style="text-align: center;">This Week's Bracket</h2>
<table id="bracket" style="margin: 1rem auto; border-collapse: collapse; width: 100%; max-width: 400px;">
  <thead>
    <tr>
      <th style="background-color: var(--accent-blue); color: var(--white); padding: 0.5rem; text-align: left;">Player</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<h2 style="text-align: center;">Waitlist</h2>
<table id="waitlist" style="margin: 1rem auto; border-collapse: collapse; width: 100%; max-width: 400px;">
  <thead>
    <tr>
      <th style="background-color: var(--accent-blue); color: var(--white); padding: 0.5rem; text-align: left;">Player</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<script>
  // Google Sheets JSON feed URL
  const sheetUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vT5ck-1B7HvfNdb83vap3DeZJNT4PBWdLeNoGIm5WM7BbxVw-8nIa0VAVEfo3iv3G5Zs8W5vHt-Wjnr/pub?output=csv';

  fetch(sheetUrl)
    .then(response => response.text())
    .then(csvText => {
      const rows = csvText.split('\n').map(row => row.split(','));
      const headers = rows[0];
      const data = rows.slice(1).filter(row => row[0]); // skip empty rows

      const bracketBody = document.querySelector('#bracket tbody');
      const waitlistBody = document.querySelector('#waitlist tbody');

      let bracketCount = 0;
      let waitlistCount = 0;

      data.forEach(row => {
        const firstName = row[0].trim();
        const lastName = row[1].trim();
        const approved = row[7] ? row[7].trim().toUpperCase() === 'TRUE' : false;

        const playerDisplay = `${firstName} ${lastName.charAt(0)}.`;

        const tr = document.createElement('tr');
        const td = document.createElement('td');
        td.textContent = playerDisplay;
        td.style.padding = '0.5rem';
        tr.appendChild(td);

        if (approved && bracketCount < 16) {
          bracketBody.appendChild(tr);
          bracketCount++;
        } else if (!approved && waitlistCount < 16) {
          waitlistBody.appendChild(tr);
          waitlistCount++;
        }
      });
    })
    .catch(error => console.error('Error fetching data:', error));
</script>
